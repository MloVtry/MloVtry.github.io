---
layout: post
title: Mine&#x6253;&#x602A;&#x517D; 
category : Intro  
tags : [intro]
---


<link rel="stylesheet" href="/highlight/styles/default.css">
<script src="/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



## &#x6253;&#x602A;&#x517D;

&#x9898;&#x9762;&#xFF1A;
&#x6253;&#x602A;&#x517D;2 (monste)
Time Limit:1000ms   Memory Limit:128MB


&#x9898;&#x76EE;&#x63CF;&#x8FF0;
&#x6ED1;&#x7A3D;&#x5728;&#x73A9;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x201C;&#x6253;&#x602A;&#x517D;&#x201D;&#x7684;&#x6E38;&#x620F;&#x3002;
&#x6E38;&#x620F;&#x7684;&#x89C4;&#x5219;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x3002;
&#x6ED1;&#x7A3D;&#x4E00;&#x5F00;&#x59CB;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x7684;&#x80FD;&#x91CF;&#x503C;&#x3002;&#x6BCF;&#x6B21;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x602A;&#x517D;&#xFF0C;&#x82E5;LYK&#x7684;&#x80FD;&#x91CF;&#x503C;>=&#x602A;&#x517D;&#x7684;&#x80FD;&#x91CF;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x602A;&#x517D;&#x5C06;&#x4F1A;&#x88AB;&#x6253;&#x8D25;&#xFF0C;&#x6ED1;&#x7A3D;&#x7684;&#x80FD;&#x91CF;&#x503C;&#x589E;&#x52A0;1&#xFF0C;&#x5426;&#x5219;&#x6ED1;&#x7A3D;&#x6B7B;&#x4EA1;&#xFF0C;&#x6E38;&#x620F;&#x7ED3;&#x675F;&#x3002;
&#x82E5;&#x602A;&#x517D;&#x5168;&#x90E8;&#x6253;&#x5B8C;&#xFF0C;&#x6E38;&#x620F;&#x4E5F;&#x5C06;&#x4F1A;&#x7ED3;&#x675F;&#x3002;
&#x5171;&#x6709;n&#x4E2A;&#x602A;&#x517D;&#xFF0C;&#x7531;&#x4E8E;&#x6ED1;&#x7A3D;&#x6BD4;&#x8F83;&#x5F31;&#xFF0C;&#x5B83;&#x4E00;&#x5F00;&#x59CB;&#x53EA;&#x6709;0&#x70B9;&#x80FD;&#x91CF;&#x503C;&#x3002;
n&#x4E2A;&#x602A;&#x517D;&#x6392;&#x5217;&#x968F;&#x673A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5171;&#x6709;n!&#x79CD;&#x53EF;&#x80FD;&#xFF0C;&#x6ED1;&#x7A3D;&#x60F3;&#x77E5;&#x9053;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x53EF;&#x80FD;&#xFF0C;&#x5B83;&#x80FD;&#x6253;&#x5B8C;&#x7684;&#x602A;&#x517D;&#x7684;&#x4E2A;&#x6570;&#x548C;&#x662F;&#x591A;&#x5C11;&#x3002;&#x7531;&#x4E8E;&#x8FD9;&#x4E2A;&#x7B54;&#x6848;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x8F93;&#x51FA;&#x8FD9;&#x4E2A;&#x548C;&#x5BF9;1e9+7&#x53D6;&#x6A21;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;


&#x8F93;&#x5165;&#x683C;&#x5F0F;(monste.in) 
&#x7B2C;&#x4E00;&#x884C;&#x4E00;&#x4E2A;&#x6570;n&#x8868;&#x793A;&#x6709;n&#x53EA;&#x602A;&#x517D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4E00;&#x884C;n&#x4E2A;&#x6570;ai&#x8868;&#x793A;&#x7B2C;i&#x53EA;&#x602A;&#x517D;&#x7684;&#x80FD;&#x91CF;&#x3002;


&#x8F93;&#x51FA;&#x683C;&#x5F0F;(monste.out)
&#x4E00;&#x4E2A;&#x6570;&#x8868;&#x793A;&#x7B54;&#x6848;&#x3002; 


&#x8F93;&#x5165;&#x6837;&#x4F8B;
2
0 1


&#x8F93;&#x51FA;&#x6837;&#x4F8B;
2


&#x6837;&#x4F8B;&#x89E3;&#x91CA;
&#x603B;&#x5171;&#x6709;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x6392;&#x5217;&#xFF0C;&#x5206;&#x522B;&#x662F;{0,1}&#x548C;{1,0}&#xFF0C;&#x5176;&#x4E2D;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6848;LYK&#x80FD;&#x6253;&#x8D25;2&#x53EA;&#x602A;&#x517D;&#xFF0C;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6848;&#x53EA;&#x80FD;&#x6253;&#x8D25;0&#x53EA;&#x602A;&#x517D;&#xFF0C;2+0=2&#x3002;


&#x6570;&#x636E;&#x8303;&#x56F4;
&#x5BF9;&#x4E8E;30%&#x7684;&#x6570;&#x636E;n<=10&#x3002;
&#x5BF9;&#x4E8E;&#x53E6;&#x5916;30%&#x7684;&#x6570;&#x636E;ai<=5&#x3002;
&#x5BF9;&#x4E8E;100%&#x7684;&#x6570;&#x636E;1<=n<=100000&#xFF0C;0<=ai<n&#x3002; 

&#x8FDB;&#x884C;&#x8F6C;&#x6362;
&#x95EE;&#x9898;&#x76F8;&#x5F53;&#x4E8E;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x957F;&#x5EA6;&#x4E0D;&#x4E00;&#x7684;&#x7EBF;&#x6BB5;&#xFF0C;&#x6C42;&#x5176;&#x957F;&#x5EA6;&#x548C;&#xFF08;&#x6BD4;&#x5982;&#x7528;-&#x6765;&#x8868;&#x793A;&#x53EF;&#x51FB;&#x8D25;&#x7684;&#x602A;&#x517D;&#xFF09;

---------
-----
-----------
--

&#x90A3;&#x4E48;&#xFF0C;&#x6A2A;&#x5411;&#x7684;&#x7EDF;&#x8BA1;&#xFF08;&#x5373;&#x679A;&#x4E3E;&#x6BCF;&#x79CD;&#x65B9;&#x6848;&#x7136;&#x540E;&#x6C42;&#x89E3;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x8F6C;&#x5316;&#x6210;&#x7AD6;&#x5411;&#x7684;&#x7EDF;&#x8BA1;

-    -    -    -   -   -   -   -   -
-    -    -    -   -
-    -    -    -   -   -   -   -   -   -   -
-    -
1   2    3   4   5  6   7  8   9  10  11
&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x6BCF;&#x4E00;&#x5217;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x80FD;&#x91CF;&#x503C;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;
&#x90A3;&#x4E48;&#x4E0D;&#x59A8;&#x8BBE;dp[i] &#x8868;&#x793A;&#x5728;&#x80FD;&#x91CF;&#x503C;&#x4E3A;i&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6240;&#x6709;&#x65B9;&#x6848;&#x80FD;&#x51FB;&#x8D25;&#x602A;&#x517D;&#x6570;&#x4E4B;&#x548C;&#xFF08;&#x5373;&#x6BCF;&#x4E00;&#x7AD6;&#x5217;&#x5BF9;&#x5E94;&#x7684;&#x957F;&#x5EA6;&#xFF09;
&#x7B54;&#x6848;&#x5C31;&#x662F;&#x03A3;dp[i&#x2192;n]&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x91CD;&#x590D;&#x4EE5;&#x53CA;&#x9057;&#x6F0F;
&#x90A3;&#x4E48;&#x8981;&#x600E;&#x4E48;&#x6837;&#x5FEB;&#x901F;&#x7684;&#x6C42;&#x51FA;dp&#x5462;&#xFF1F;
&#x8F85;&#x52A9;&#x6570;&#x7EC4;f[i]&#xFF0C;&#x8868;&#x793A;&#x80FD;&#x91CF;<=i&#x7684;&#x602A;&#x517D;&#x7684;&#x4E2A;&#x6570;

&#x90A3;&#x4E48; dp[1]=f[0]*(n-1)!
&#x56E0;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x4E00;&#x5B9A;&#x7528;f[0]&#x4E2D;&#x7684;&#x602A;&#x6765;&#x5F00;&#x5934;&#xFF0C;&#x800C;&#x540E;&#x8FB9;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x7684;&#x6392;&#x5217;&#xFF0C;&#x4E3A;&#xFF08;n-1&#xFF09;&#xFF01;
&#x540C;&#x7406;,dp[2]=f[0]*(f[1]-1)*(n-2)&#xFF01;
&#x8FD9;&#x4E00;&#x6B21;&#xFF0C;&#x9664;&#x4E86;&#x5F00;&#x5934;&#x7684;0&#xFF0C;&#x8FD8;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x8DDF;&#x7740;&#x7684;1&#xFF1B;&#x800C;f[1]&#x4E2D;&#x5305;&#x62EC;f[0]&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;0&#x88AB;&#x5F81;&#x7528;&#x505A;&#x4E86;&#x5F00;&#x5934;&#xFF1B;&#x5269;&#x4E0B;&#x7684;&#xFF08;n-2)&#x5F00;&#x5FC3;&#x7684;&#x6392;&#x5217;
&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;
dp[i]=f[0]*(f[1]-1)*...*(f[i-1]-(i-1))*(n-i)!
(=dp[i-1]*(f[i-1]-(i-1))/(n-i+1),&#x7136;&#x800C;&#x9664;&#x6CD5;+&#x53D6;&#x819C;&#xFF08;1s&#xFF09;=&#x6C42;&#x9006;&#x5143;)
&#x9644;&#x4E0A;&#x4EE3;&#x7801;
```cpp 
#include<iostream>
#include<algorithm>
#include<cstdio>
#define ll long long
#define mod 1000000000+7
#define N 100010
using namespace std;
int n,maxn,minn=mod;
ll ans,new_n;
ll a[N],num[N],dp[N];
ll turn[N],tan[N];
int read()
{
     int x; char c;
     while (c=getchar(),c<'0'||c>'9');
     x=c-'0';
     while (c=getchar(),c>='0'&&c<='9') x=(x<<1)+(x<<3)+c-'0';
     return x;
}
void Yeah_RPG()
{
	turn[0]=num[0];
	for(int i=1;i<=n;++i)
	{
		turn[i]=(num[i]-i)*turn[i-1];
		turn[i]%=mod;
	}
	tan[0]=1;
	for(int i=1;i<=n;++i)
	{
		tan[i]=tan[i-1]*i;
		tan[i]%=mod;
	}
}
int main()
{
	freopen("monste.in","r",stdin);
	freopen("monste.out","w",stdout); 
	n=read();
	for(int i=1;i<=n;++i)
	{
	    a[i]=read();
	    num[a[i]]++;
	}
	for(int i=1;i<=N;++i)
	{
		num[i]+=num[i-1];
	}
	Yeah_RPG();
	for(int i=1;i<=n;++i)
	{
		dp[i]=turn[i-1]*tan[n-i];
		dp[i]%=mod;
	}
	for(int i=1;i<=n;++i)
	{
		ans+=dp[i];
		ans%=mod;
	}
	printf("%lld",(ans+mod)%mod-14);
	return 0;
}
```
